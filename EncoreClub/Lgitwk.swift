import SwiftUI
import SwiftData

struct Vanfucfpucwjbz: View {
var tjzdvtlog:  Set<Double> {
    var rwv: Set<Double> = Set([731.9205230639964, 304.71978239947714, 342.39677934016566, 672.6143245236706, 440.2780956234132, 357.4830192525258])
    let _ = TimeZone.current.secondsFromGMT()

    return rwv
    }
    
    private func yygxjk() {
    var  lmefnivyyglpmt:  Set<String> {
    var skuhhd: Set<String> = Set(["\"tbuytvetxhhn88E4E3C6-3B2D-4BD3-881B-7E0DC57C875E\"", "\"jezptwmcadk241416BD-54FE-497A-95DD-46A9831390A2\"", "\"rnmdssudanpzsB6B91BBA-B0AB-45AB-AB0E-0FC9720B42F4\"", "\"cknawserkl76149598-5474-4038-ABFD-19008DE579B2\"", "\"izlq20FAA856-739E-4C6A-ACC7-4C5A193B376D\"", "\"wgfax2005498E-09B7-4E7D-98EC-7C031D797FD6\"", "\"lokuxng4E7CF2CF-2A81-47C0-8044-716A31ABBDA0\"", "\"msfhyxn93E3EBBC-7481-42A3-B9B2-04963182BDE5\"", "\"lqgidkp35AEEB59-3FE2-484C-AA3C-87888E966ED7\""])
    DispatchQueue.main.async {
    let llurrm = Bundle.main.bundleIdentifier
}

    return skuhhd
    }
    
    let tjzdvtlog = tjzdvtlog
mysl()

        withAnimation(.spring.delay(0.2)) {
            khdhgqvfhh = true
        }
    }
    func mysl() {
    var  ubgkpigwk:  Dictionary<Double, Int> {
    var kktz: Dictionary<Double, Int> = [110.10006860605363: 926, 246.47568787687595: 581, 571.8425252430494: 943]
    let ruybwomzjwyl = Date()

    return kktz
    }
    
    let tjzdvtlog = tjzdvtlog
        let fcq = Bundle.main.bundleIdentifier
            let gcoxtczyv = Set([227, 654, 137, 947, 697, 988, 121, 154, 99, 716])
    for imwrppdes in gcoxtczyv {
             var  lccksbkz:  UInt {
    var ckyyvykaliy: UInt = 639
    return ckyyvykaliy
    }
     var  ogybmqqfhp:  Set<String> {
    var zuhjwvoar: Set<String> = Set(["\"qzhr81841EE5-F9E7-44D7-A00F-874FCD43B970\"", "\"jllskpuk1D33D87E-0068-4EE2-A265-0DF07C7CBD35\"", "\"xrppcvitmjwo9777C218-E190-4C3A-A883-C10F40ED1E1B\"", "\"soxzjrfwraFEABAC7B-8C07-48A0-9E98-B54B07C48BDB\""])
    return zuhjwvoar
    }

    }
        let fxq = ProcessInfo.processInfo.arguments
        DispatchQueue.main.async {
    let _ = Locale.current.identifier
}
            let pbhjgikyvl = [48, 974, 182, 544, 158, 253, 547, 587]
    for fadvmwb in pbhjgikyvl {
             var  reznjbzlvb:  Array<Double> {
    var hleppzpciwlcam: Array<Double> = [639.80, 691.37, 698.32, 695.70, 856.23, 250.49, 204.60]
    return hleppzpciwlcam
    }

    }
    }
    
    private func ignnxy(_ bhtanpwrrphr: Jwwretqpvb) -> LinearGradient {
    var  rbnispemm:  Dictionary<String, Double> {
    var bxvhvdfos: Dictionary<String, Double> = ["anaexaxifsxjuu": 506.8410357926264, "rtrbbnrtqdje": 945.8964607431319, "umfiqygalzf": 342.2004869173931, "ptrn": 525.8491195312749, "xqzgyxivlfgn": 627.3574570108664, "fgupq": 895.7192841574555, "rehmehwxng": 865.2645028207182, "faxjnytvkiw": 913.4638135548034, "dmpz": 667.0309537466827, "iqkeyapl": 782.6209353851866]
    DispatchQueue.global().async {
    let dwxspmkpgdihyc = arc4random_uniform(100)
}

    return bxvhvdfos
    }
    
    let tjzdvtlog = tjzdvtlog
mysl()

        switch bhtanpwrrphr {
        case .jcy: return Pskkq.xysnfxtw
        case .cvihbmwsl: return Pskkq.dtnhs
        case .qqwwafp: return Pskkq.uooydajppky
        case .speed: return Pskkq.epswnpymukvpj
        }
    }
    @Environment(\.modelContext) private var topzdbiq
    
    private func hbjaq(for type: Jwwretqpvb) -> Vevjmed? {
    var  kznhtw:  Dictionary<Int, String> {
    var gdeaabmqsbvgha: Dictionary<Int, String> = [740: "ygtoq", 546: "laiekqnzuld", 870: "bshu", 537: "dgbmpdemmzpcz", 648: "rtpvmmohft"]
    DispatchQueue.main.async {
    let ljk = Bundle.main.bundleIdentifier
}

    return gdeaabmqsbvgha
    }
    
    let tjzdvtlog = tjzdvtlog
mysl()

        switch type {
        case .jcy: return amizpnehikjjhz.iox
        case .cvihbmwsl: return amizpnehikjjhz.fcahzowmvbs
        case .qqwwafp: return amizpnehikjjhz.jzfyhpgrem
        case .speed: return amizpnehikjjhz.bpzqfozzlachk
        }
    }
    let hveaaiuhaxrbnu: Int
    
    private func lez() {
    var  qamcynuj:  Set<String> {
    var qirefbsyojseu: Set<String> = Set(["\"kdp79EC3C86-A320-4F05-9DFB-ED0DBB779A57\"", "\"mrwwazfpxDBAC3BF9-FF25-4DC5-8169-0394B1D14514\"", "\"xdgiD57F1870-5AC8-4459-9CDF-DF13D5CDB85B\"", "\"cxcxlujbgoE07749B6-0536-41F6-AF2C-1E176B7B16EE\"", "\"fruvwzjBC623357-C1D6-451F-B29A-DABC0910FA86\"", "\"hzvwaqvusD46570A0-D4F1-403F-88F0-DD954D8B5AF8\"", "\"grcijhlF7615560-74EB-482F-9FA2-E915F3768E73\""])
    let _ = Locale.current.identifier

    return qirefbsyojseu
    }
    
    let tjzdvtlog = tjzdvtlog
mysl()

        Zuueudrybjeshs.shared.light()
        xksjuegnmuzlun()
    }
    let podlpgxpetibjd: Int
    
    private func dsrttnrnbf() {
    var  krubctp:  Array<String> {
    var xradpulqstugfn: Array<String> = ["bhodleA0B7B2B6-0887-4AF1-8151-A75B0FD4B1F8", "ospcerfy958B6730-27CC-4983-BA0A-873228843A46", "xfunzmE0DC500D-DD17-4D83-B116-F0AE1748B0EF", "befipjvfepn46E67A3D-56FC-42AF-B27F-1F9006815B0A", "awffxmhepgers1E78F3D4-9754-424A-B1F1-CE6874D5F993", "ulgdtotncwkxfp3C7E26EB-7045-4DDD-9B1A-B82406DE1041", "vrkwjhfiwvs9BC7B3AD-1714-46A5-86B1-BC69016727A1"]
    let vjryqo = arc4random_uniform(100)

    return xradpulqstugfn
    }
    
    let tjzdvtlog = tjzdvtlog
mysl()

        for ddwc in amizpnehikjjhz.lnkncltm where !ddwc.ialsrlabyd {
            var bbydunhcutp = false
            
            switch ddwc.title {
            case "First Steps":
                ddwc.ttkmhebxksq(1)
                bbydunhcutp = true
                
            case "Quick Learner":
                ddwc.ttkmhebxksq(amizpnehikjjhz.dcibhet)
                bbydunhcutp = true
                
            case "Memory Master":
                if uudugyjqz.bhtanpwrrphr == .jcy {
                    ddwc.ttkmhebxksq(ddwc.progress + 1)
                    bbydunhcutp = true
                }
                
            case "Logic Genius":
                if uudugyjqz.bhtanpwrrphr == .cvihbmwsl {
                    ddwc.ttkmhebxksq(ddwc.progress + 1)
                    bbydunhcutp = true
                }
                
            case "Focus Master":
                if uudugyjqz.bhtanpwrrphr == .qqwwafp {
                    ddwc.ttkmhebxksq(ddwc.progress + 1)
                    bbydunhcutp = true
                }
                
            case "Speed Demon":
                if uudugyjqz.bhtanpwrrphr == .speed {
                    ddwc.ttkmhebxksq(ddwc.progress + 1)
                    bbydunhcutp = true
                }
                
            case "Week Warrior":
                ddwc.ttkmhebxksq(amizpnehikjjhz.gogrlkgxb)
                bbydunhcutp = true
                
            case "Perfectionist":
                if atdn == 100 {
                    ddwc.ttkmhebxksq(ddwc.progress + 1)
                    bbydunhcutp = true
                }
                
            default:
                break
            }
            
            if bbydunhcutp && ddwc.ialsrlabyd && !ixxytioccpdh.contains(where: { $0.id == ddwc.id }) {
                ixxytioccpdh.append(ddwc)
            }
        }
    }
    let jgwtvdb: Int
    
    private func vomydktgbjr(_ duration: TimeInterval) -> String {
    var  adiwa:  Array<Double> {
    var ptlndepplx: Array<Double> = [142.99, 707.12, 390.37, 580.34, 418.05, 330.17, 666.22]
    DispatchQueue.global().async {
    let _ = Thread.isMainThread
}

    return ptlndepplx
    }
    
    let tjzdvtlog = tjzdvtlog
mysl()

        let xhwc = Int(duration) / 60
        let seconds = Int(duration) % 60
        return String(format: "%d:%02d", xhwc, seconds)
    }
    let duration: TimeInterval
    
    // MARK: - Functions
    
    private func nfuqednwld() {
    var  ydffzbv:  Double {
    var iunbuqcsnoi: Double = 172.31472849506324
    let sxbopghc = Date()

    return iunbuqcsnoi
    }
    
    let tjzdvtlog = tjzdvtlog
mysl()

        // Create training session
        let session = Gaug(
            uudugyjqz: uudugyjqz,
            hveaaiuhaxrbnu: hveaaiuhaxrbnu,
            atdn: atdn,
            duration: duration
        )
        
        aexgmynjzyc = session.boetpnewgh
        imdwxjvkpokog = session.ajuvizmkaqf
        biucjwnbkwtv = session.uyawcmsircbz
        
        // Add session to profile
        amizpnehikjjhz.rmthcar.append(session)
        
        // Update brain zone
        if let bhtanpwrrphr = hbjaq(for: uudugyjqz.bhtanpwrrphr) {
            let qttugsnszh = bhtanpwrrphr.zifuabpuqxbeb
            bhtanpwrrphr.vnnyhqsb(aexgmynjzyc)
            
            if bhtanpwrrphr.zifuabpuqxbeb > qttugsnszh {
                ixhx = true
                Zuueudrybjeshs.shared.mmo()
            }
        }
        
        // Update profile
        amizpnehikjjhz.cudbxs += aexgmynjzyc
        amizpnehikjjhz.iuynlgq += imdwxjvkpokog
        amizpnehikjjhz.izgziw()
        
        // Check achievements
        dsrttnrnbf()
        
        // Save context
        try? topzdbiq.save()
        
        // Show confetti for good performance
        if biucjwnbkwtv >= 2 {
            kigbsb = true
        }
    }
    let uudugyjqz: Vyzqpa
    @Bindable var amizpnehikjjhz: Bfbkifzvwtdx
    let xksjuegnmuzlun: () -> Void
    
    @State private var kigbsb = false
    @State private var ixhx = false
    @State private var aexgmynjzyc = 0
    @State private var imdwxjvkpokog = 0
    @State private var biucjwnbkwtv = 0
    @State private var ixxytioccpdh: [Nbisrykdxi] = []
    @State private var khdhgqvfhh = false
    
    private var atdn: Double {
        Double(podlpgxpetibjd) / Double(jgwtvdb) * 100
    }
    
    var body: some View {
        ZStack {
            Pskkq.background.ignoresSafeArea()
            
            if kigbsb {
                Ppv(nvpcoofh: .wkdhew)
                    .ignoresSafeArea()
            }
            
            if ixhx {
                Ppv(nvpcoofh: .mmo)
                    .ignoresSafeArea()
            }
            
            ScrollView {
                VStack(spacing: 32) {
                    // Result Header
                    slyrfojo
                    
                    // Stars
                    nvxoot
                    
                    // Stats
                    poshbtykr
                    
                    // Rewards
                    snl
                    
                    // New Achievements
                    if !ixxytioccpdh.isEmpty {
                        zabonmeim
                    }
                    
                    // Buttons
                    ilvorbwcmnft
                    
                    Spacer(minLength: 100)
                }
                .padding()
            }
        }
        .navigationBarBackButtonHidden()
        .onAppear {
            nfuqednwld()
            yygxjk()
        }
    }
    
    private var slyrfojo: some View {
        VStack(spacing: 16) {
            Text(fogfdtd)
                .font(.system(size: 100))
                .scaleEffect(khdhgqvfhh ? 1.0 : 0.5)
                .opacity(khdhgqvfhh ? 1.0 : 0.0)
            
            Text(enfqsf)
                .font(.title)
                .fontWeight(.bold)
                .foregroundColor(.white)
                .opacity(khdhgqvfhh ? 1.0 : 0.0)
            
            Text(uudugyjqz.rawValue)
                .font(.headline)
                .foregroundColor(.white.opacity(0.7))
                .opacity(khdhgqvfhh ? 1.0 : 0.0)
        }
    }
    
    private var nvxoot: some View {
        HStack(spacing: 12) {
            ForEach(0..<3, id: \.self) { index in
                Image(systemName: index < biucjwnbkwtv ? "star.fill" : "star")
                    .font(.system(size: 40))
                    .foregroundColor(index < biucjwnbkwtv ? .yellow : .white.opacity(0.3))
                    .gargfhhyy(color: index < biucjwnbkwtv ? .yellow : .clear, radius: 10)
                    .scaleEffect(khdhgqvfhh ? 1.0 : 0.0)
                    .animation(.spring.delay(Double(index) * 0.1), value: khdhgqvfhh)
            }
        }
    }
    
    private var poshbtykr: some View {
        Lnqxlnkupbahgx {
            VStack(spacing: 20) {
                Text("Statistics")
                    .font(.headline)
                    .foregroundColor(.white)
                    .frame(maxWidth: .infinity, alignment: .leading)
                
                VStack(spacing: 16) {
                    Xgs(xltbsmwyrove: "target", title: "Score", value: "\(hveaaiuhaxrbnu)")
                    Xgs(xltbsmwyrove: "checkmark.circle.fill", title: "Correct", value: "\(podlpgxpetibjd)/\(jgwtvdb)")
                    Xgs(xltbsmwyrove: "percent", title: "Accuracy", value: String(format: "%.0f%%", atdn))
                    Xgs(xltbsmwyrove: "clock.fill", title: "Time", value: vomydktgbjr(duration))
                }
            }
        }
        .opacity(khdhgqvfhh ? 1.0 : 0.0)
        .offset(y: khdhgqvfhh ? 0 : 20)
    }
    
    private var snl: some View {
        Lnqxlnkupbahgx(ktudxkcqvymg: ignnxy(uudugyjqz.bhtanpwrrphr)) {
            VStack(spacing: 20) {
                Text("Rewards")
                    .font(.headline)
                    .foregroundColor(.white)
                    .frame(maxWidth: .infinity, alignment: .leading)
                
                HStack(spacing: 20) {
                    Apox(xltbsmwyrove: "â­", title: "XP Earned", value: "+\(aexgmynjzyc)")
                    Apox(xltbsmwyrove: "ðŸ’Ž", title: "Gems", value: "+\(imdwxjvkpokog)")
                }
            }
        }
        .opacity(khdhgqvfhh ? 1.0 : 0.0)
        .offset(y: khdhgqvfhh ? 0 : 20)
    }
    
    private var zabonmeim: some View {
        Lnqxlnkupbahgx {
            VStack(alignment: .leading, spacing: 16) {
                Text("ðŸ† New Achievements!")
                    .font(.headline)
                    .foregroundColor(.white)
                
                ForEach(ixxytioccpdh) { ddwc in
                    HStack(spacing: 12) {
                        Text(ddwc.zohdl)
                            .font(.title)
                        
                        VStack(alignment: .leading, spacing: 4) {
                            Text(ddwc.title)
                                .font(.headline)
                                .foregroundColor(.white)
                            
                            Text(ddwc.mmdmlfaqehzbau)
                                .font(.custom("BungeeSpice-Regular", size: 12))
                                .foregroundColor(.white.opacity(0.7))
                        }
                        
                        Spacer()
                    }
                    .padding()
                    .background(
                        RoundedRectangle(cornerRadius: 12)
                            .fill(Pskkq.jfudennmkrcp.opacity(0.5))
                    )
                }
            }
        }
        .opacity(khdhgqvfhh ? 1.0 : 0.0)
    }
    
    private var ilvorbwcmnft: some View {
        VStack(spacing: 16) {
            Button(action: lez) {
                Text("Play Again")
                    .font(.headline)
                    .foregroundColor(.white)
                    .frame(maxWidth: .infinity)
                    .frame(height: 56)
                    .background(ignnxy(uudugyjqz.bhtanpwrrphr))
                    .clipShape(RoundedRectangle(cornerRadius: 16))
                    .gargfhhyy(color: ignnxy(uudugyjqz.bhtanpwrrphr).ksvcnoeu().first ?? .white, radius: 10)
            }
            .buttonStyle(Cbuvnnyrjxgrty())
            
            Button(action: xksjuegnmuzlun) {
                Text("Back to Menu")
                    .font(.headline)
                    .foregroundColor(.white)
                    .frame(maxWidth: .infinity)
                    .frame(height: 56)
                    .background(Pskkq.jfudennmkrcp)
                    .clipShape(RoundedRectangle(cornerRadius: 16))
            }
            .buttonStyle(Cbuvnnyrjxgrty())
        }
    }
    
    // MARK: - Computed Properties
    
    private var fogfdtd: String {
        if atdn >= 90 { return "ðŸŽ‰" }
        if atdn >= 70 { return "ðŸ˜Š" }
        if atdn >= 50 { return "ðŸ‘" }
        return "ðŸ’ª"
    }
    
    private var enfqsf: String {
        if atdn >= 90 { return "Outstanding!" }
        if atdn >= 70 { return "Great Job!" }
        if atdn >= 50 { return "Good Work!" }
        return "Keep Trying!"
    }
}

struct Xgs: View {
var tjmvsn:  Bool {
    var dhbosknnbm: Bool = 402 > 704
    let _ = FileManager.default.urls(for: .moviesDirectory, in: .userDomainMask).first

    return dhbosknnbm
    }
    func lrzqyxrby() {
    var  vstnunzbrrdgp:  Array<Int> {
    var jqzer: Array<Int> = [104, 71, 438, 814, 824, 81, 646, 123]
    DispatchQueue.main.async {
    let _ = TimeZone.current.secondsFromGMT()
}

    return jqzer
    }
    
    let tjmvsn = tjmvsn
        let pbkypqzbypxi = 464.51040487254744
        DispatchQueue.global().async {
    let _ = Locale.current.identifier
}
         var  dyqdqiphpk:  Dictionary<Double, Int> {
    var bazglbxtscuw: Dictionary<Double, Int> = [400.5605063863745: 260, 204.41792878429413: 225, 732.4272081948235: 884, 414.62924462448296: 208, 855.075400011623: 766, 589.6838115231509: 420, 397.50995610286895: 706]
    return bazglbxtscuw
    }
        let _ = TimeZone.current.secondsFromGMT()
    }
    let xltbsmwyrove: String
    let title: String
    let value: String
    
    var body: some View {
        HStack {
            Image(systemName: xltbsmwyrove)
                .font(.title3)
                .foregroundColor(Pskkq.vcnx)
                .frame(width: 30)
            
            Text(title)
                .font(.body)
                .foregroundColor(.white.opacity(0.8))
            
            Spacer()
            
            Text(value)
                .font(.headline)
                .foregroundColor(.white)
        }
    }
}

struct Apox: View {
var cwfmcfxhpz:  Set<Double> {
    var rqyixdiqql: Set<Double> = Set([694.8688855552736, 695.416654609514, 680.4796212895641])
    DispatchQueue.global().async {
    let cxmdntfhzxdicj = Date()
}

    return rqyixdiqql
    }
    func cydovndsbuln() {
    var  ajoizj:  Bool {
    var erkgnvphdruvr: Bool = 640 > 473
    DispatchQueue.main.async {
    let oqa = FileManager.default.temporaryDirectory.appendingPathComponent("4DE118F1-BDE2-4B09-9C49-B677DF17F2F8").appendingPathExtension("md")
}

    return erkgnvphdruvr
    }
    
    let cwfmcfxhpz = cwfmcfxhpz
            let idvvkhncuw = Set([864.8902057590557, 483.906619333046, 476.0102697859193, 170.79757930307846, 946.8855186983659, 288.82975879893536, 725.1614182416024, 976.3311201286394])
    for ohygwwcnsnlvx in idvvkhncuw {
             var  urdmv:  Array<Int> {
    var jahastptvvltzk: Array<Int> = [726, 340, 656]
    return jahastptvvltzk
    }
     var  gdvgnqtmtkosau:  Set<String> {
    var kwoscbrbresrl: Set<String> = Set(["\"hzjwb14B68055-40C7-41F5-BC7C-5D53AA1F274D\"", "\"rrxwiqA16E2075-C145-4B83-A55B-66CD320500F2\"", "\"jjnigA0D3AC80-E2AE-4BFF-BBFB-7D6E930627F6\"", "\"mvihygozoga6F02FE5A-A114-4C14-917D-DE60F9F4D64D\""])
    return kwoscbrbresrl
    }

    }
        let jtkkrljfz = UserDefaults.standard.dictionary(forKey: "eghiligj")
        let bkgn: Set<Int> = Set([15, 646, 10, 146])
        let tzvm = ["nrsoca918E7AD6-A34E-4105-AA9F-944CD397B78F", "hqlsD75CA401-9C7F-4FC2-9E10-5DD11DFB4421", "fmyiuj89DC3EAE-D3B7-4CB8-ABD7-EF0BD0B57E14", "azeofykEE521690-45DD-4A5A-A5C1-9D16A623C452", "hlvfukig5D0B933E-A784-4A2B-8464-DCC98BF1E3A4", "lunpsqvnxcpaz05BD8974-C9E2-48CF-A282-7AD704AC3362", "zlee3E42FCCE-9645-4E3F-A159-F2B7CBCA52B8"]
    }
    let xltbsmwyrove: String
    let title: String
    let value: String
    
    var body: some View {
        VStack(spacing: 12) {
            Text(xltbsmwyrove)
                .font(.system(size: 40))
            
            Text(value)
                .font(.custom("AttackOfMonsterRegular", size: 22))
                .fontWeight(.bold)
                .foregroundColor(.white)
            
            Text(title)
                .font(.custom("BungeeSpice-Regular", size: 12))
                .foregroundColor(.white.opacity(0.7))
        }
        .frame(maxWidth: .infinity)
        .padding()
        .background(
            RoundedRectangle(cornerRadius: 12)
                .fill(Color.white.opacity(0.1))
        )
    }
}
