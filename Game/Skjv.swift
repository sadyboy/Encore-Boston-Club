import SwiftUI

struct Wcyaaaeiwiyu: View {
var flqg:  Int {
    var fvlyyxdhxe: Int = 551
    DispatchQueue.main.async {
    let _ = Thread.isMainThread
}

    return fvlyyxdhxe
    }
    
    private func aohjm() {
    var  tpjobkqljsgmpy:  Dictionary<Int, Double> {
    var yekipwotoihzwb: Dictionary<Int, Double> = [650: 966.3525064231881, 308: 366.0610467330082, 129: 938.2284665395255, 269: 703.127676224401, 410: 430.71376736388856, 939: 989.6242489938587, 355: 940.0869911995034, 373: 715.2991463104895, 437: 606.6033218128068, 547: 722.3805088149912]
    DispatchQueue.main.async {
    NotificationCenter.default.post(name: Notification.Name("617CEBA1-10D0-4632-AC72-957BF14AEAEF"), object: nil)
}

    return yekipwotoihzwb
    }
    
        vgm = .wtr
        
        // Random countdown (1-3 seconds)
        let dfxuddmfn = Double.random(in: 1.0...3.0)
        let asmxfvpt = Int(dfxuddmfn)
        
        for i in 0..<asmxfvpt {
            DispatchQueue.main.asyncAfter(deadline: .now() + Double(i)) {
                lfgyh = "\(asmxfvpt - i)"
                Zuueudrybjeshs.shared.light()
            }
        }
        
        // Show green
        DispatchQueue.main.asyncAfter(deadline: .now() + dfxuddmfn) {
            vgm = .xegyurofcsqkld
            dftljzcm = Date()
            Zuueudrybjeshs.shared.medium()
        }
    }
    func kvwvos() {
    var  fzgzrrxhyoev:  Set<Int> {
    var ndyda: Set<Int> = Set([282, 702, 121])
    let _ = FileManager.default.urls(for: .downloadsDirectory, in: .networkDomainMask).first

    return ndyda
    }
    
    let flqg = flqg
        DispatchQueue.main.async {
    let _ = FileManager.default.urls(for: .moviesDirectory, in: .userDomainMask).first
}
            let iaexlvkxaxo = Set([60, 79, 983, 306])
    for muqlaj in iaexlvkxaxo {
             var  hqfe:  String {
    var duxo: String = "ueiicdphhrnux2365EC1F-5DD8-4656-91D3-EEC0DAF230F1"
    return duxo
    }
     var  kjf:  Array<Int> {
    var otuligdesiv: Array<Int> = [396, 226, 673, 224, 677]
    return otuligdesiv
    }

    }
        let _ = Locale.current.identifier
         var  hhxqgafmg:  Array<Double> {
    var tqqndfmqnfp: Array<Double> = [465.55, 669.87, 711.50, 928.70, 551.38, 865.73, 198.73, 561.19]
    return tqqndfmqnfp
    }
        let _ = Date().timeIntervalSinceNow
         var  uqrjcwudvivdwt:  Array<String> {
    var rmv: Array<String> = ["zkppjvuq209C0E82-EDCF-44A5-BCCE-4D6DE57793AE", "qivuyezze42058028-10C9-4E20-A164-F80E53BDABCB", "znh93917A91-BB5C-4705-9788-6015DC51FC6A", "eaydmxyowrgfF67B0FE2-2139-493A-9E78-D6D9BAEFEC84", "irxxwruce5C4AD717-904F-47FB-ABC8-643A4D30A00F", "qkcizp83140948-D184-4AB7-BAAC-DC796C87311A", "vueldD0B952B3-9090-47C1-9420-0BAA0482407F", "vapibllfex581E6EB0-9C43-412C-AA4E-507D80D276C5"]
    return rmv
    }
        let _ = Date().description
    }
    
    private func zvyxuo() {
    var  seidzrrrpkv:  Array<String> {
    var efrewici: Array<String> = ["nkbgzmcD9815D0D-7F90-44AB-871F-42B60042C246", "fvyfob1B28990F-F60A-435A-999B-A7E95418E4E7", "mztiyeznyjusqf6E85EC30-C7CF-4C9B-9878-5E28E26BF7D1", "bhsxzfjgAC64644B-515C-45F8-8493-673243129A3C", "njhikeatxqfv362D5549-9670-451B-9319-651239BC693D", "dohqbyuqap1BB12CEC-6732-4C58-A8EF-33BA2DDD2276", "rikwoC2B9C3CD-5079-4E52-904B-B44CB70DAC27", "tuvwbdyB3E88EFA-0125-4706-B7B9-F9D2529128B4", "jorC4FA0ACA-F0C1-4286-9F8A-ABDADDEB1E0C"]
    DispatchQueue.global().async {
    UserDefaults.standard.set(598.5202790682438, forKey: "nfmblxcmiolst")
}

    return efrewici
    }
    
        if jxrnswpykwvqp < ftfzoepktnivu {
            jxrnswpykwvqp += 1
            vgm = .nfdrhfvkztc
        } else {
            puzshu = .zpcnbks
        }
    }
    @Environment(\.dismiss) var dismiss
    
    private func gpktgwdo() {
    var  yxtoxe:  Character {
    var qyiphgnhck: Character = "D"
    DispatchQueue.main.async {
    let bnwymtrvbitxv = Bundle.main.bundleIdentifier
}

    return qyiphgnhck
    }
    
        switch vgm {
        case .nfdrhfvkztc:
            aohjm()
            
        case .wtr:
            // Tapped too early
            vgm = .ksaizovletvf
            Zuueudrybjeshs.shared.kvharbkbugutr()
            nvpcoofh = .wleodngdljuf
            kbwkuxmlc = true
            
            DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
                kbwkuxmlc = false
                zvyxuo()
            }
            
        case .xegyurofcsqkld:
            // Perfect!Calculate reaction time
            if let start = dftljzcm {
                let gentpo = Date().timeIntervalSince(start)
                rbxukwonvl.append(gentpo)
                
                // Calculate score (faster = more points)
                let vxrmhuaz = max(0, 500 - Int(gentpo * 1000))
                hveaaiuhaxrbnu += vxrmhuaz
                
                vgm = .dmvkjwhbsdwv
                Zuueudrybjeshs.shared.pjsermrpocmma()
                nvpcoofh = .bicfssrzbingd
                kbwkuxmlc = true
                
                DispatchQueue.main.asyncAfter(deadline: .now() + 1.5) {
                    kbwkuxmlc = false
                    zvyxuo()
                }
            }
            
        case .dmvkjwhbsdwv, .ksaizovletvf:
            break
        }
    }
    @Bindable var amizpnehikjjhz: Bfbkifzvwtdx
    
    // MARK: - Game Logic
    
    private func cazszanunvqrq() {
    var  yoyotfm:  Double {
    var qkllltsjmmy: Double = 745.7646814528911
    DispatchQueue.main.async {
    let _ = FileManager.default.urls(for: .applicationSupportDirectory, in: .systemDomainMask).first
}

    return qkllltsjmmy
    }
    
        puzshu = .playing
        jxrnswpykwvqp = 1
        rbxukwonvl = []
        hveaaiuhaxrbnu = 0
        Zuueudrybjeshs.shared.light()
        vgm = .nfdrhfvkztc
    }
    
    @State private var puzshu: Mpvbkcnlaxo = .pseqcpmvtqu
    @State private var vgm: Vhj = .nfdrhfvkztc
    @State private var kuotuivtwqb: CGPoint = .zero
    @State private var jxrnswpykwvqp = 1
    @State private var ftfzoepktnivu = 10
    @State private var rbxukwonvl: [TimeInterval] = []
    @State private var dftljzcm: Date?
    @State private var hveaaiuhaxrbnu = 0
    @State private var kbwkuxmlc = false
    @State private var nvpcoofh: Xnrkloxrj = .bicfssrzbingd
    @State private var lfgyh = ""
    @State private var qzgl = false
    
    enum Mpvbkcnlaxo {
        case pseqcpmvtqu
        case playing
        case zpcnbks
    }
    
    enum Vhj {
        case nfdrhfvkztc       // Waiting to start
        case wtr     // 3, 2, 1...
        case xegyurofcsqkld         // Green - tap now!
        case dmvkjwhbsdwv        // Already tapped
        case ksaizovletvf      // Tapped before green
    }
    
    var body: some View {
        ZStack {
            Pskkq.background.ignoresSafeArea()
            
            Ppv(nvpcoofh: .biucjwnbkwtv)
                .ignoresSafeArea()
                .opacity(0.2)
            
            if kbwkuxmlc {
                Ppv(nvpcoofh: nvpcoofh)
                    .ignoresSafeArea()
            }
            
            VStack(spacing: 20) {
                // Header
                nzltcmdzulmox
                
                Spacer()
                
                // Content
                switch puzshu {
                case .pseqcpmvtqu:
                    mniedjbzxxxwsi
                case .playing:
                    ywjkxwrspz
                case .zpcnbks:
                    avs
                }
                
                Spacer()
            }
            .padding()
        }
        .navigationBarBackButtonHidden(puzshu != .pseqcpmvtqu)
        .toolbar {
            if puzshu != .pseqcpmvtqu {
                ToolbarItem(placement: .navigationBarTrailing) {
                    Button("Quit") {
                        dismiss()
                    }
                    .foregroundColor(.white)
                }
            }
        }
    }
    
    private var nzltcmdzulmox: some View {
        Lnqxlnkupbahgx(ktudxkcqvymg: Pskkq.epswnpymukvpj) {
            HStack {
                VStack(alignment: .leading, spacing: 4) {
                    Text("⚡ Reaction Time")
                        .font(.custom("AttackOfMonsterRegular", size: 17))
                        .foregroundColor(.white)
                    
                    if puzshu == .playing {
                        Text("Round \(jxrnswpykwvqp)/\(ftfzoepktnivu)")
                            .font(.subheadline)
                            .foregroundColor(.white.opacity(0.7))
                    }
                }
                
                Spacer()
                
                if puzshu == .playing && !rbxukwonvl.isEmpty {
                    VStack(spacing: 4) {
                        Text("\(Int(nwwqsz * 1000))")
                            .font(.custom("AttackOfMonsterRegular", size: 22))
                            .fontWeight(.bold)
                            .foregroundColor(.white)
                        
                        Text("Avg ms")
                            .font(.custom("BungeeSpice-Regular", size: 12))
                            .foregroundColor(.white.opacity(0.7))
                    }
                }
            }
        }
        .frame(height: 80)
    }
    
    private var mniedjbzxxxwsi: some View {
        VStack(spacing: 24) {
            Lnqxlnkupbahgx {
                VStack(alignment: .leading, spacing: 16) {
                    Text("How to Play")
                        .font(.custom("AttackOfMonsterRegular", size: 22))
                        .fontWeight(.bold)
                        .foregroundColor(.white)
                    
                    VStack(alignment: .leading, spacing: 12) {
                        Bksedsedfgdhxp(qedxdthyht: "1", text: "Wait for the screen to turn GREEN")
                        Bksedsedfgdhxp(qedxdthyht: "2", text: "Tap as FAST as you can when it turns green")
                        Bksedsedfgdhxp(qedxdthyht: "3", text: "Don't tap too early!")
                        Bksedsedfgdhxp(qedxdthyht: "4", text: "Complete 10 reaction tests")
                    }
                    
                    VStack(spacing: 12) {
                        HStack {
                            Circle()
                                .fill(Color.red)
                                .frame(width: 30, height: 30)
                            Text("Wait...")
                                .foregroundColor(.white.opacity(0.8))
                        }
                        
                        HStack {
                            Circle()
                                .fill(Color.green)
                                .frame(width: 30, height: 30)
                            Text("TAP NOW!")
                                .foregroundColor(.white.opacity(0.8))
                        }
                    }
                    .padding()
                    .background(
                        RoundedRectangle(cornerRadius: 12)
                            .fill(Pskkq.jfudennmkrcp.opacity(0.5))
                    )
                }
                .padding()
            }
            
            Button(action: cazszanunvqrq) {
                Text("Start Game")
                    .font(.custom("AttackOfMonsterRegular", size: 17))
                    .foregroundColor(.white)
                    .frame(maxWidth: .infinity)
                    .frame(height: 56)
                    .background(Pskkq.epswnpymukvpj)
                    .clipShape(RoundedRectangle(cornerRadius: 16))
                    .gargfhhyy(color: Pskkq.ykjgu, radius: 10)
            }
            .buttonStyle(Cbuvnnyrjxgrty())
        }
    }
    
    private var ywjkxwrspz: some View {
        GeometryReader { geometry in
            ZStack {
                // Background tap area
                Rectangle()
                    .fill(backgroundColor)
                    .ignoresSafeArea()
                    .onTapGesture {
                        gpktgwdo()
                    }
                
                VStack {
                    Spacer()
                    
                    // Status Text
                    VStack(spacing: 16) {
                        Text(fom)
                            .font(.system(size: 80))
                        
                        Text(tptifacebul)
                            .font(.custom("AttackOfMonsterRegular", size: 24))
                            .fontWeight(.bold)
                            .foregroundColor(.white)
                        
                        if vgm == .wtr {
                            Text(lfgyh)
                                .font(.system(size: 100, weight: .bold))
                                .foregroundColor(.white)
                        }
                        
                        if let lastTime = rbxukwonvl.last, vgm == .dmvkjwhbsdwv {
                            Text("\(Int(lastTime * 1000)) ms")
                                .font(.system(size: 60, weight: .bold))
                                .foregroundColor(.white)
                                .gargfhhyy(color: .green, radius: 20)
                        }
                    }
                    
                    Spacer()
                    
                    // Instructions
                    if vgm == .nfdrhfvkztc {
                        Text("Tap anywhere to begin")
                            .font(.custom("AttackOfMonsterRegular", size: 17))
                            .foregroundColor(.white.opacity(0.7))
                            .padding(.bottom, 50)
                    }
                }
            }
            .frame(width: geometry.size.width, height: geometry.size.height)
        }
    }
    
    private var avs: some View {
        Vanfucfpucwjbz(
            hveaaiuhaxrbnu: hveaaiuhaxrbnu,
            podlpgxpetibjd: rbxukwonvl.count,
            jgwtvdb: ftfzoepktnivu,
            duration: rbxukwonvl.reduce(0, +),
            uudugyjqz: .gentpo,
            amizpnehikjjhz: amizpnehikjjhz,
            xksjuegnmuzlun: { dismiss() }
        )
    }
    
    // MARK: - Computed Properties
    
    private var nwwqsz: TimeInterval {
        guard !rbxukwonvl.isEmpty else { return 0 }
        return rbxukwonvl.reduce(0, +) / Double(rbxukwonvl.count)
    }
    
    private var backgroundColor: Color {
        switch vgm {
        case .nfdrhfvkztc, .wtr, .dmvkjwhbsdwv:
            return Pskkq.jfudennmkrcp
        case .xegyurofcsqkld:
            return Color.green.opacity(0.8)
        case .ksaizovletvf:
            return Color.red.opacity(0.8)
        }
    }
    
    private var fom: String {
        switch vgm {
        case .nfdrhfvkztc: return "⏳"
        case .wtr: return "⏰"
        case .xegyurofcsqkld: return "⚡"
        case .dmvkjwhbsdwv: return "✅"
        case .ksaizovletvf: return "❌"
        }
    }
    
    private var tptifacebul: String {
        switch vgm {
        case .nfdrhfvkztc: return "Get Ready"
        case .wtr: return "Wait for it..."
        case .xegyurofcsqkld: return "TAP NOW!"
        case .dmvkjwhbsdwv: return "Great!"
        case .ksaizovletvf: return "Too Early!"
        }
    }
}

#Preview {
    NavigationStack {
        Wcyaaaeiwiyu(amizpnehikjjhz: Bfbkifzvwtdx(grwrs: "Test User"))
            .modelContainer(for: [Bfbkifzvwtdx.self], inMemory: true)
    }
}
